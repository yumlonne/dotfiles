#!/usr/bin/perl
use Term::ANSIColor;

my $reset = color('reset');

while (<STDIN>) {
    my $color = color('yellow');
    for my $elem (@ARGV) {
        if ($elem =~ /--color=('")?(.*)('")?/) {
            $color = color($2);
            next;
        }
        s/($elem)/$color$1$reset/g;
    }
    print;
}
