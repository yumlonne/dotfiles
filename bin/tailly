#!/usr/bin/perl

use List::Util qw(max min sum);

my @data = <STDIN>;

# '-'から始まるものはオプションとして扱う
my %options;
map { $options{$_} = 1 }
map { /-(.*)/; $1; }
grep { /^-/ } @ARGV;
@ARGV = grep { not $_ =~ /^-/ } @ARGV;

# 指定がなければ全部
@ARGV = qw/sum cnt avg max min/ if not @ARGV;

for my $type (@ARGV) {
    if ($type eq 'max') {
        printf $options{r} ? "%s": "MAX: %s", max @data;
    }
    elsif ($type eq 'min') {
        printf "MAX: %s", min @data;
    }
    elsif ($type eq 'sum') {
        printf "SUM: %s\n", sum @data;
    }
    elsif ($type eq 'cnt') {
        printf "CNT: %s\n", scalar(@data);
    }
    elsif ($type eq 'avg') {
        printf "AVG: %s\n", sum(@data) / @data;
    }
    else {
        warn "unknown option `$type`";
    }
}
